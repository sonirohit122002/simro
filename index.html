<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For My Rabbit ğŸ°ğŸ’–</title>

<style>
body {
  height: 100vh;
  margin: 0;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Poppins', sans-serif;
  overflow: hidden;
}

.card {
  background: white;
  padding: 40px;
  border-radius: 20px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.2);
  max-width: 420px;
  text-align: center;
  position: relative;
}

.hidden { display: none; }

button {
  margin: 10px;
  padding: 12px 25px;
  font-size: 16px;
  border-radius: 30px;
  border: none;
  cursor: pointer;
}

.yes { background: #ff4d6d; color: white; }
.no { background: #adb5bd; color: white; }

input {
  padding: 10px;
  width: 80%;
  border-radius: 20px;
  border: 1px solid #ccc;
  text-align: center;
  font-size: 16px;
}

#noBtn {
  position: absolute;
}

/* hearts */
.heart {
  position: fixed;
  font-size: 24px;
  animation: float 2s linear forwards;
}

@keyframes float {
  to {
    transform: translateY(-150px) scale(1.5);
    opacity: 0;
  }
}
</style>
</head>

<body>

<!-- MUSIC -->
<audio id="romantic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3">
</audio>

<audio id="happy" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3">
</audio>

<!-- Q1 -->
<div class="card" id="q1">
  <h2>Are you rabbit? ğŸ°</h2>
  <button class="yes" onclick="go('q1','q2')">Yes</button>
  <button class="no" onclick="boo()">No</button>
</div>

<!-- Q2 -->
<div class="card hidden" id="q2">
  <h2>Are you sure? ğŸ˜</h2>
  <button class="yes" onclick="go('q2','q3')">Yes</button>
  <button class="no" onclick="boo()">No</button>
</div>

<!-- Q3 -->
<div class="card hidden" id="q3">
  <h2>Prove that you are my rabbit ğŸ°ğŸ’–</h2>
  <p>What does my rabbit call me?</p>
  <input id="answer" placeholder="type here">
  <br><br>
  <button class="yes" onclick="checkAnswer()">Submit</button>
  <p id="hint" style="color:red;"></p>
</div>

<!-- READY -->
<div class="card hidden" id="ready">
  <h2>Yay! Confirmed you are my rabbit ğŸ¥°</h2>
  <p>Are you ready for a serious question? ğŸ˜Œ</p>
  <button class="yes" onclick="go('ready','valentine')">Yes</button>
  <button class="no" onclick="go('ready','ready')">No</button>
</div>

<!-- VALENTINE -->
<div class="card hidden" id="valentine">
  <h1>Will you be my Valentine? ğŸ’˜</h1>
  <button class="yes" id="yesBtn">Yes ğŸ’–</button>
  <button class="no" id="noBtn">No ğŸ˜¢</button>

  <div id="result" class="hidden">
    <h2 id="message"></h2>
    <img id="gif" width="220">
  </div>
</div>

<script>
/* EDIT THESE */
const correctAnswer = "potato"; // all lowercase
const yesMessage = "I knew it ğŸ¥° Happy Valentineâ€™s Day ğŸ’–";

/* music */
const romantic = document.getElementById("romantic");
const happy = document.getElementById("happy");
let musicStarted = false;

document.addEventListener("click",()=>{
  if(!musicStarted){
    romantic.play().catch(()=>{});
    musicStarted = true;
  }
});

/* navigation */
function go(from,to){
  document.getElementById(from).classList.add("hidden");
  document.getElementById(to).classList.remove("hidden");
}

/* boo */
function boo(){
  alert("Boo! Go back â€” this is only for my rabbit ğŸ°");
}

/* check proof */
function checkAnswer(){
  const val = document.getElementById("answer").value.trim();
  if(val === correctAnswer){
    go('q3','ready');
  } else {
    document.getElementById("hint").innerText =
      "Hint: type in all small letters ğŸ˜‰";
    vibrate(300);
  }
}

/* valentine logic */
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const result = document.getElementById("result");
const message = document.getElementById("message");
const gif = document.getElementById("gif");

noBtn.addEventListener("mouseover",()=>{
  vibrate(200);
  noBtn.style.left = Math.random()*70 + "%";
  noBtn.style.top = Math.random()*70 + "%";
});

noBtn.addEventListener("click",()=>{
  message.innerText = "Wrong answer ğŸ˜ Try again";
  gif.src = "https://media.giphy.com/media/3o7aD2saalBwwftBIY/giphy.gif";
  result.classList.remove("hidden");
});

yesBtn.addEventListener("click",()=>{
  romantic.pause();
  happy.play();
  message.innerText = yesMessage;
  gif.src = "https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif";
  result.classList.remove("hidden");
  hearts();
});

/* hearts */
function hearts(){
  for(let i=0;i<30;i++){
    const h = document.createElement("div");
    h.className = "heart";
    h.innerText = "ğŸ’–";
    h.style.left = Math.random()*100+"vw";
    h.style.top = "80vh";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),2000);
  }
}

/* vibration */
function vibrate(ms){
  if(navigator.vibrate) navigator.vibrate(ms);
}
</script>

</body>
</html>
